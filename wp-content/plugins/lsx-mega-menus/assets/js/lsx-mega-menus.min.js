!function(e,n){"use strict";if(e&&e.customize){var t=e.customize;t.LSXMM=t.LSXMM||{},t.LSXMM.data={savedMegaMenus:{}},"undefined"!=typeof _wpCustomizeLSXMMSettings&&n.extend(t.LSXMM.data,_wpCustomizeLSXMMSettings),t.LSXMM.MegaMenusData=new t.LSXMM.MegaMenusCollection,t.bind("ready",function(){_.isUndefined(t.Widgets)||_.isUndefined(t.Menus)||(t.LSXMM.MegaMenus=new t.LSXMM.MenuCustomizerView({}),t.bind("saved",function(i){var s,a,M,d=[];i.nav_menu_item_updates&&(n.each(i.nav_menu_item_updates,function(e,n){n.error||"inserted"!==n.status||(M=t.LSXMM.MegaMenusData.find(function(e){return e.get("item_id")===n.previous_post_id}),_.isEmpty(M)||M.set({item_id:n.post_id}),t.previewer.refresh())}),setTimeout(function(){t.LSXMM.MegaMenus.addButtons()},500)),t.LSXMM.MegaMenusData.each(function(e){var n=e.toJSON();n.widgets=n.widgets.toJSON(),n.widgets=_.sortBy(n.widgets,"y"),d.push(n)}),s={data:d,nonce:t.LSXMM.data.nonce},a=e.ajax.post("lsxmm-save-data",s),a.done(function(e){return"0"===e?(t.previewer.preview.iframe.hide(),void t.previewer.login().done(function(){t.state("saved").set(!1),t.previewer.preview.iframe.show()})):"-1"===e?void t.previewer.cheatin():void 0})}))}),t.bind("nonce-refresh",function(e){t.LSXMM.data.nonce=e["lsxmm-ajax-nonce"]})}}(window.wp,jQuery);